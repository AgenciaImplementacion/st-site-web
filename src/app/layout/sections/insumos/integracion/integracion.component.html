<div [@routerTransition]>
  <app-page-header [heading]="'Integración de insumos'" [icon]="'fa-star'">
  </app-page-header>

  <div class="card">
    <div class="card-header text-center">
      <h3>integración de insumos</h3>
    </div>
    <div class="card-body">
      <form action="" method="post">
        <div class="row mb-2">
          <div class='col-12 col-sm-6 mb-1'>
            <div class="input-group">
              <div class="input-group-prepend">
                <label class="input-group-text" aria-required="true">* Departamento</label>
              </div>
              <select (change)="changeDepartament()" class="custom-select" name="departments" id="departments"
                [(ngModel)]="selectDepartment">
                <option value='0' selected>Seleccione el departamento</option>
                <option [ngValue]="item.id" *ngFor="let item of departments">{{item.name}}</option>
              </select>
            </div>
          </div>
          <div class='col-12 col-sm-6  mb-1'>
            <div class="input-group">
              <div class="input-group-prepend">
                <label class="input-group-text">* Municipio</label>
              </div>
              <select (change)="changeMunucipality()" class="custom-select" name="munucipalities" id="munucipalities"
                [(ngModel)]="selectMunicipality">
                <option value='0' selected>Seleccione el Municipio</option>
                <option [ngValue]="item.id" *ngFor="let item of munucipalities">{{item.name}}</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row mb-2" *ngIf="dataWorkSpaceMunicipality[0].manager.name !== ''">
          <div class='col-12 col-sm-6 mb-2'>
            <div class="input-group">
              <div class="input-group-prepend">
                <label class="input-group-text">Gestor</label>
              </div>
              <div class="form-control">
                {{dataWorkSpaceMunicipality[0].manager.name}}
              </div>
            </div>
          </div>
          <div class='col-12 col-sm-6 mb-2'>
            <div class="input-group">
              <div class="input-group-prepend">
                <label class="input-group-text">Operador</label>
              </div>
              <div class="form-control">
                {{dataWorkSpaceMunicipality[0].operators[0] ? dataWorkSpaceMunicipality[0].operators[0].operator.name : ' '}}
              </div>
            </div>
          </div>
          <div class='col-12 col-sm-6 mb-1'>
            <div class="input-group">
              <div class="input-group-prepend">
                <label class="input-group-text">Número de predios</label>
              </div>
              <div class="form-control">
                {{dataWorkSpaceMunicipality[0].numberAlphanumericParcels}}
              </div>
            </div>
          </div>
          <div class='col-12 col-sm-6 mb-1'>
            <div class="input-group">
              <div class="input-group-prepend">
                <label class="input-group-text">Área de Trabajo</label>
              </div>
              <div class="form-control">
                {{dataWorkSpaceMunicipality[0].municipalityArea}}
              </div>
            </div>
          </div>
          <div class='col-12 col-sm-6  mb-1'>
            <div class="form-group form-check">
              <input name="splitZones" type="checkbox" class="form-check-input" id="exampleCheck1"
                [(ngModel)]="splitZones" disabled="true">
              <label class="form-check-label" for="exampleCheck1">Selección de Zonas</label>
            </div>
          </div>
          <div class='col-12 col-sm-6 mb-1'>
            <div class="input-group">
              <input class="form-control" type="text" disabled="true" placeholder="4" disabled="true">
            </div>
          </div>
        </div>
      </form>
      <div class="row" id="insumosXTF" *ngIf="dataWorkSpaceMunicipality[0].manager.name !== ''">
        <div class="col-12 col-sm-4 mb-2 order-1 order-sm-1">
          <div class="card">
            <div class="card-header text-center">
              <h5>Catastro</h5>
            </div>
            <div class="card-body">
              <div class="form-check" *ngFor="let item of catrastro; let i = index;">
                <input [(ngModel)]="selectsupplyCadastre" name="Catastro" class="form-check-input mt-2" type="radio"
                  value="{{item.id}}" id="{{item.id}}" (change)="comprobar()">
                <label class="form-check-label" for="radio{{i+1}}">
                  <span tooltip="{{item.observations}}" placement="bottom" show-delay="500">
                    {{item.typeSupply.name}} v{{i+1}}
                  </span>
                  <i class="material-icons cursor">
                    get_app
                  </i>
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 mb-2 order-2 order-sm-2">
          <div class="card">
            <div class="card-header text-center">
              <h5>Registro</h5>
            </div>
            <div class="card-body">
              <div class="form-check" *ngFor="let item of registro; let i = index;">
                <input [(ngModel)]="selectsupplyRegistration" name="Registro" class="form-check-input mt-2" type="radio"
                  value="{{item.id}}" id="{{item.id}}" (change)="comprobar()">
                <label class="form-check-label" for="radio{{i+1}}">
                  <span tooltip="{{item.observations}}" placement="bottom" show-delay="500">
                    {{item.typeSupply.name}} v{{i+1}}
                  </span>
                  <i class="material-icons cursor">
                    get_app
                  </i>
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-4 mb-2 order-4 order-sm-3">
          <div class="card">
            <div class="card-header text-center">
              <h5>Resultados de la integración</h5>
            </div>
            <div class="card-body">
              <p class="card-text">Content</p>
            </div>
          </div>
        </div>
        <div class="col-12 offset-sm-4 col-sm-4 mb-2 order-3 order-sm-4">
          <div class="card">
            <div class="card-header text-center">
              <h5>ANT</h5>
            </div>
            <div class="card-body">
              <div class="form-check" *ngFor="let item of ant; let i = index;">
                <input [(ngModel)]="selectsupplyANT" name="ANT" class="form-check-input mt-2" type="radio"
                  value="{{item.id}}" id="{{item.id}}" (change)="comprobar()">
                <label class="form-check-label" for="radio{{i+1}}">
                  <span tooltip="{{item.observations}}" placement="bottom" show-delay="500">
                    {{item.typeSupply.name}} v{{i+1}}
                  </span>
                  <i class="material-icons cursor">
                    get_app
                  </i>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer text-muted text-center" *ngIf="dataWorkSpaceMunicipality[0].manager.name !== ''">
        <div class="row mt-1">
          <div class="col-12 col-sm-6 offset-sm-3">
            <div class="alert alert-warning text-center" role="alert">
              <span [innerHTML]="msgAlert"></span>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-dark" (click)="integrationSupplies()"
          [disabled]="activateButtonIntegration">Realizar integración automatica de
          archivos XTF</button>
      </div>
    </div>
  </div>
</div>
